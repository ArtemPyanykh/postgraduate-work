\section{Оценка сверху значения игры $ G^m_\infty(p) $}
\label{sec:upper_bound}
Рассмотрим следующую стратегию второго игрока $ \tau^k $:
\begin{equation}
\label{eq:strategy:sp}
\begin{aligned}
\tau_1^k &= k, \\
\tau_t^k(i_{t-1}, j_{t-1}) &= \begin{cases}
    j_{t-1} - 1, &\, i_{t-1} < j_{t-1}, \\
    j_{t-1}, &\, i_{t-1} = j_{t-1}, \\
    j_{t-1} + 1, &\, i_{t-1} > j_{t-1}.
\end{cases}
\end{aligned}
\end{equation}


\begin{utver}
При применении стратегии \eqref{eq:strategy:sp} в игре $ G_n^m(p) $ второй игрок может гарантировать себе проигрыш не более
\begin{align}
\label{eq:upper_bound:l}
h_n^L(\tau^k) &= \sum_{t=0}^{n-1}
    (2(k - t) - 1)^+,\\
\label{eq:upper_bound:h}
h_n^H(\tau^k) &= \sum_{t=0}^{n-1}
    (2(m - k - t) - 1)^+,
\end{align}
в состояниях $ L $ и $ H $ соответственно.
\end{utver}
\begin{proof}
Проведем доказательство по индукции.
Для $ h_n^L(\tau^k) $:

\[ 
h_1^L(\tau^k) = \max_{i \in I} a_{ik}^L = \max(0, 2k - 1).
\]
База индукции проверена.
Пусть $ \forall t \leq n $ выполнено \eqref{eq:upper_bound:l}. 
Докажем, что \eqref{eq:upper_bound:l} выполняется при $ t=n+1 $. Имеем
$
h_{n+1}^L(\tau^k) = \max_{i \in I} (a_{ik}^L + h_n^L(\tau^{c(i)})),
$
где
\[ 
c(i) = \begin{cases}
    k - 1, &\, i < k, \\
    k, &\, i = k, \\
    k + 1, &\, i > k.
\end{cases}
\]

Рассмотрим значение выигрыша в зависимости от действия $ i $ первого игрока. 
При $ i < k $ имеем:
\begin{align*}
  h_{n+1}^L(\tau^k) = 2k - 1 + h_n^L(\tau^{k-1}) &= 2k - 1 + \sum_{t = 0}^{n-1} (2(k-1-t)-1)^+ = \\
  &= \sum_{t = 0}^n (2(k-t) - 1)^+.
\end{align*}
При $ i = k $ получаем:
\[
  h_{n+1}^L(\tau^k) = h_n^L(\tau^k) \leq \sum_{t=0}^n(2(k-t)-1)^+.
\]
При $ i > k $ имеем:
\begin{align*}
  h_{n+1}^L(\tau^k) = -2k - 1 + h_n^L(\tau^{k+1}) &= -2k - 1 + \sum_{t = -1}^{n-2} (2(k-t)-1)^+ \leq \\
  &\leq \sum_{t=0}^n(2(k-t)-1)^+.
\end{align*}

Таким образом, \eqref{eq:upper_bound:l} доказано.
Аналогично для \eqref{eq:upper_bound:h} имеем:
\[
  h_1^H(\tau^k) = \max_{i \in I} a_{ik}^H = \max(0, 2(m - k) - 1).
\]
База индукции проверена.
Пусть $ \forall t \leq n $ выполнено \eqref{eq:upper_bound:h}. Докажем, что \eqref{eq:upper_bound:h} выполняется при $ t = n + 1 $. Имеем:
\[
h_{n+1}^H(\tau^k) = \max_{i \in I}(a_{ik}^H + h_n^H(\tau^{c(i)}).
\]
При $ i > k $ имеем:
\begin{align*}
  h_{n+1}^H(\tau^k) 
  &= 2m - 2k - 1 + h_n^H(\tau^{k-1}) = \\
  &= 2(m-k)- 1 + \sum_{t = 0}^{n-1}(2(m-k-1-t)-1)^+ = \\
  &= \sum_{t = 0}^n (2(m-k-t) - 1)^+.
\end{align*}
При $ i = k $ получаем:
\[
  h_{n+1}^H(\tau^k) = h_n^H(\tau^k) \leq \sum_{t=0}^n(2(m-k-t)-1)^+.
\]
При $ i < k $ имеем:
\begin{align*}
  h_{n+1}^H(\tau^k) 
    &= 2k - 1 - 2m + h_n^H(\tau^{k+1}) = \\
    &= 2k - 1 - 2m + \sum_{t = -1}^{n-2} (2(m-k-t)-1)^+ \leq \\
    &\leq \sum_{t=0}^n(2(m-k-t)-1)^+.
\end{align*}

Таким образом \eqref{eq:upper_bound:h} доказано.
\end{proof}

Можно заметить, что при $ t > m $ значения \eqref{eq:upper_bound:l} и \eqref{eq:upper_bound:h} стабилизируются. Таким образом, справедливо следующее

\begin{utver}
Для значения бесконечной игры справедливо следующее неравенство:
\begin{equation}
\label{eq:upper_bound:value}
V_\infty^m(p) 
\leq
H^m(p) \eqdef \min_{j \in J}
    (p(m-j)^2 + (1-p)j^2).
\end{equation}
\end{utver}
\begin{proof}
При каждом $ j $:
\begin{align*}
h_{m+1}^H(\tau^j) 
&= \sum_{t=0}^m (2(m-j-t)-1)^+ = \\
&= (2 \cdot 0 - 1)^+ + (2 \cdot 1 - 1)^+ + \ldots + (2(m-j) - 1)^+ = \\
&= (m-j)(m-j+1) - (m-j) = (m-j)^2,
\\
h_{m+1}^L(\tau^j)
&= \sum_{t=0}^m (2(j-t)-1)^+ = \\
&= (2 \cdot 0 - 1)^+ + (2 \cdot 1 - 1)^+ + \ldots + (2 \cdot j - 1)^+ = \\
&= j(j+1) - j = j^2.
\end{align*}
Отсюда и из \eqref{eq:value_of_game_n} очевидным образом получаем \eqref{eq:upper_bound:value}.
\end{proof}

\begin{lemma}
\label{lemma:upper_bound:function}
Функция $ H^m(p) $ является кусочно-линейной функцией, состоящей из $ m + 1 $ линейных сегментов, и полностью определяется своими значениями в следующих точках:
\begin{eqnarray*}
& H^m\left(\frac{k+1/2}{m}\right) 
    = \frac{m}{2} + mk - k^2 - k, 
        \, k = \overline{0, m - 1},\\
& H^m(0) = H^m(1) = 0.
\end{eqnarray*}
\end{lemma}
\begin{proof}
Квадратичная функция $ \omega(x) = p(m-x)^2 + (1-~p)x^2 $ достигает минимума при $ x = pm $. 
Отсюда при $ p \in \left( \frac{k - 1/2}{m}, \frac{k+1/2}{m} \right] $ минимум $ p(m-j)^2 + (1-p)j^2 $ по целым $ j $ достигается при $ j = k $.
 
Отсюда видно, что $ H^m(p) $ является кусочно-линейной функцией, которая полностью определяется своими значениями в точках $ p~=~\frac{k+1/2}{m}, \, k = \overline{0, m-1} $. 
Значение $ H^m(p) $ при $ p = \frac{k+1/2}{m} $ легко находится подстановкой $ j~=~k $ в \eqref{eq:upper_bound:value}.
\end{proof}